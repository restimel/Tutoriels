<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Shared-worker avec addEventListener</title>
</head>
<body>
<script>
	//Création d'une zone d'affichage
	var elem = document.createElement("output");
	elem.textContent = "Log :";
	document.body.appendChild(elem);

	//Création du worker
	var w = new SharedWorker("Worker7.9.js");
	w.port.addEventListener("message",
		function(e) {
			elem.innerHTML += "<br>" + e.data;
		},
		false);

	//cette ligne est importante pour démarrer la réception des messages sur ce port
	w.port.start();

	w.port.postMessage("Bonjour");
</script>
</body>
</html>